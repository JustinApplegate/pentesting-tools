#!/bin/bash

# sets /opt to right permissions
sudo chown -R justin:justin /opt


# installs lots of tools
sudo apt install -y aircrack-ng binutils binwalk bzip2 ca-certificates cewl cmake cupp curl dirb dirbuster dnsutils enum4linux exiftool fping g++ gcc gdb gdbserver git gobuster golang gpg gzip hashcat hydra hping3 imagemagick make ncat net-tools nikto nmap perl powersploit python3 python3-pip smbclient socat sqlite3 sqlmap steghide traceroute tshark unrar unzip valgrind vim python-is-python3

# download crackstation's wordlist and rockyou
cd /opt
wget https://crackstation.net/files/crackstation.txt.gz
gunzip crackstation.txt.gz
wget https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt

# John the Ripper
sudo apt-get -y install git build-essential libssl-dev zlib1g-dev yasm pkg-config libgmp-dev libpcap-dev libbz2-dev
cd /opt
git clone https://github.com/openwall/john -b bleeding-jumbo john
cd john/src
./configure && make -s clean && make -sj4

# Metasploit
cd /tmp
curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb > msfinstall && chmod 755 msfinstall && ./msfinstall

# Impacket
cd /opt
git clone https://github.com/SecureAuthCorp/impacket
sudo pip3 install -r impacket/requirements.txt

# PEAS
cd /opt
curl -L https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh > linpeas.sh
curl -L https://github.com/carlospolop/PEASS-ng/releases/latest/download/winPEAS.bat > winpeas.bat

# jwtcrack
cd /opt
sudo pip3 install PyJWT tqdm
git clone https://github.com/Sjord/jwtcrack

# RsaCtfTool
cd /opt
git clone https://github.com/RsaCtfTool/RsaCtfTool
sudo apt-get install libgmp3-dev libmpc-dev -y
sudo pip3 install -r RsaCtfTool/requirements.txt

# sherlock
cd /opt
git clone https://github.com/sherlock-project/sherlock
sudo pip3 install -r sherlock/requirements.txt

# volatility3
git clone https://github.com/volatilityfoundation/volatility3.git
sudo pip3 install -r volatility3/requirements.txt

# volatility2
sudo apt install python2
wget https://bootstrap.pypa.io/pip/2.7/get-pip.py -O /tmp/get-pip.py
sudo python2.7 /tmp/get-pip.py
git clone https://github.com/volatilityfoundation/volatility.git
sudo python2 -m pip install distorm3 yara PyCrypto
sudo ln -s /usr/local/lib/python2.7/dist-packages/usr/lib/libyara.so /usr/lib/libyara.so

# Ghunt - note you will still have to login for it to work correctly
sudo pip3 install ghunt
