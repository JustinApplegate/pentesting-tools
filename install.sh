#!/bin/bash

# sets /opt to right permissions
sudo chown -R justin:justin /opt


# installs lots of tools
sudo apt install -y aircrack-ng binutils binwalk bzip2 ca-certificates cewl cmake cupp curl default-mysql-client dirb dirbuster dnsutils enum4linux exiftool fping g++ gcc gdb gdbserver git gobuster golang gpg gzip hashcat hydra hping3 imagemagick make mosquitto-clients ncat net-tools nikto nmap perl powersploit python3 python3-pip postgresql-client qemu-utils qemu-system-x86 qemu-system-gui ruby-full redis-tools smbclient socat sqlite3 sqlmap steghide traceroute tshark unrar unzip valgrind vim python-is-python3

# download crackstation's wordlist and rockyou
cd /opt
wget https://crackstation.net/files/crackstation.txt.gz
gunzip crackstation.txt.gz
wget https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt

# John the Ripper
sudo apt-get -y install git build-essential libssl-dev zlib1g-dev yasm pkg-config libgmp-dev libpcap-dev libbz2-dev
cd /opt
git clone https://github.com/openwall/john -b bleeding-jumbo john
cd john/src
./configure && make -s clean && make -sj4

# Metasploit
cd /tmp
curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb > msfinstall && chmod 755 msfinstall && ./msfinstall

# Impacket
cd /opt
git clone https://github.com/SecureAuthCorp/impacket
sudo pip3 install -r impacket/requirements.txt

# PEAS
cd /opt
curl -L https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh > linpeas.sh
curl -L https://github.com/carlospolop/PEASS-ng/releases/latest/download/winPEAS.bat > winpeas.bat

# jwtcrack
cd /opt
sudo pip3 install PyJWT tqdm
git clone https://github.com/Sjord/jwtcrack

# RsaCtfTool
cd /opt
git clone https://github.com/RsaCtfTool/RsaCtfTool
sudo apt-get install libgmp3-dev libmpc-dev -y
sudo pip3 install -r RsaCtfTool/requirements.txt

# sherlock
cd /opt
git clone https://github.com/sherlock-project/sherlock
sudo pip3 install -r sherlock/requirements.txt

# volatility3
git clone https://github.com/volatilityfoundation/volatility3.git
sudo pip3 install -r volatility3/requirements.txt

# volatility2
sudo apt install python2 -y
wget https://bootstrap.pypa.io/pip/2.7/get-pip.py -O /tmp/get-pip.py
sudo python2.7 /tmp/get-pip.py
git clone https://github.com/volatilityfoundation/volatility.git
sudo python2 -m pip install distorm3 yara PyCrypto
sudo ln -s /usr/local/lib/python2.7/dist-packages/usr/lib/libyara.so /usr/lib/libyara.so

# Ghunt - note you will still have to login for it to work correctly
sudo pip3 install ghunt

# WPScan
sudo gem install wpscan

# stegseek
wget https://github.com/RickdeJager/stegseek/releases/download/v0.6/stegseek_0.6-1.deb -O /tmp/stegseek.deb
sudo dpkg -i /tmp/stegseek.deb

# nodejs and npm
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash - &&\
sudo apt-get install -y nodejs

# jwt_tool
cd /opt
git clone https://github.com/ticarpi/jwt_tool
sudo python3 -m pip install termcolor cprint pycryptodomex requests

# to install mongoshell, go to https://www.mongodb.com/try/download/shell
# to install php, follow https://computingforgeeks.com/how-to-install-php-8-2-on-debian/ (note - I had to add Debian repos to install all dependencies)
